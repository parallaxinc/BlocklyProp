// Do not edit this file; automatically generated by build_propc.py.
"use strict";
var COMPILED=!0,goog=goog||{};goog.global=this;goog.isDef=function(a){return void 0!==a};goog.isString=function(a){return"string"==typeof a};goog.isBoolean=function(a){return"boolean"==typeof a};goog.isNumber=function(a){return"number"==typeof a};goog.exportPath_=function(a,b,c){a=a.split(".");c=c||goog.global;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&goog.isDef(b)?c[d]=b:c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}};
goog.define=function(a,b){var c=b;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&void 0===goog.global.CLOSURE_UNCOMPILED_DEFINES.nodeType&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,a)?c=goog.global.CLOSURE_UNCOMPILED_DEFINES[a]:goog.global.CLOSURE_DEFINES&&void 0===goog.global.CLOSURE_DEFINES.nodeType&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,a)&&(c=goog.global.CLOSURE_DEFINES[a]));goog.exportPath_(a,c)};goog.DEBUG=!0;goog.LOCALE="en";
goog.TRUSTED_SITE=!0;goog.STRICT_MODE_COMPATIBLE=!1;goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG;goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1;goog.provide=function(a){if(goog.isInModuleLoader_())throw Error("goog.provide can not be used within a goog.module.");if(!COMPILED&&goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');goog.constructNamespace_(a)};
goog.constructNamespace_=function(a,b){if(!COMPILED){delete goog.implicitNamespaces_[a];for(var c=a;(c=c.substring(0,c.lastIndexOf(".")))&&!goog.getObjectByName(c);)goog.implicitNamespaces_[c]=!0}goog.exportPath_(a,b)};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;
goog.module=function(a){if(!goog.isString(a)||!a||-1==a.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+a+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");
goog.moduleLoaderState_.moduleName=a;if(!COMPILED){if(goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');delete goog.implicitNamespaces_[a]}};goog.module.get=function(a){return goog.module.getInternal_(a)};goog.module.getInternal_=function(a){if(!COMPILED){if(a in goog.loadedModules_)return goog.loadedModules_[a];if(!goog.implicitNamespaces_[a])return a=goog.getObjectByName(a),null!=a?a:null}return null};goog.moduleLoaderState_=null;
goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_};goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0};
goog.setTestOnly=function(a){if(goog.DISALLOW_TEST_ONLY_CODE)throw a=a||"",Error("Importing test-only code into non-debug environment"+(a?": "+a:"."));};goog.forwardDeclare=function(a){};COMPILED||(goog.isProvided_=function(a){return a in goog.loadedModules_||!goog.implicitNamespaces_[a]&&goog.isDefAndNotNull(goog.getObjectByName(a))},goog.implicitNamespaces_={"goog.module":!0});
goog.getObjectByName=function(a,b){for(var c=a.split("."),d=b||goog.global,e=0;e<c.length;e++)if(d=d[c[e]],!goog.isDefAndNotNull(d))return null;return d};goog.globalize=function(a,b){var c=b||goog.global,d;for(d in a)c[d]=a[d]};goog.addDependency=function(a,b,c,d){if(goog.DEPENDENCIES_ENABLED){var e=goog.getLoader_();e&&e.addDependency(a,b,c,d)}};goog.ENABLE_DEBUG_LOADER=!0;goog.logToConsole_=function(a){goog.global.console&&goog.global.console.error(a)};
goog.require=function(a){goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_&&goog.getLoader_().earlyProcessLoad(a);if(!COMPILED){if(goog.isProvided_(a)){if(goog.isInModuleLoader_())return goog.module.getInternal_(a)}else if(goog.ENABLE_DEBUG_LOADER){var b=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{var c=goog.getLoader_();c?c.load(a):goog.logToConsole_("Could not load "+a+" because there is no debug loader.")}finally{goog.moduleLoaderState_=b}}return null}};goog.basePath="";
goog.nullFunction=function(){};goog.abstractMethod=function(){throw Error("unimplemented abstract method");};goog.addSingletonGetter=function(a){a.instance_=void 0;a.getInstance=function(){if(a.instance_)return a.instance_;goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a);return a.instance_=new a}};goog.instantiatedSingletons_=[];goog.LOAD_MODULE_USING_EVAL=!0;goog.SEAL_MODULE_EXPORTS=goog.DEBUG;goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;
goog.TRANSPILE="detect";goog.TRANSPILER="transpile.js";goog.DEBUG_LOADER="";goog.hasBadLetScoping=null;goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(b){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping};goog.workaroundSafari10EvalBug=function(a){return"(function(){"+a+"\n;})();\n"};
goog.loadModule=function(a){var b=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:void 0,declareLegacyNamespace:!1};if(goog.isFunction(a))var c=a.call(void 0,{});else if(goog.isString(a))goog.useSafari10Workaround()&&(a=goog.workaroundSafari10EvalBug(a)),c=goog.loadModuleFromSource_.call(void 0,a);else throw Error("Invalid module definition");var d=goog.moduleLoaderState_.moduleName;if(!goog.isString(d)||!d)throw Error('Invalid module name "'+d+'"');goog.moduleLoaderState_.declareLegacyNamespace?
goog.constructNamespace_(d,c):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof c&&null!=c&&Object.seal(c);goog.loadedModules_[d]=c}finally{goog.moduleLoaderState_=b}};goog.loadModuleFromSource_=function(a){eval(a);return{}};goog.normalizePath_=function(a){a=a.split("/");for(var b=0;b<a.length;)"."==a[b]?a.splice(b,1):b&&".."==a[b]&&a[b-1]&&".."!=a[b-1]?a.splice(--b,2):b++;return a.join("/")};
goog.loadFileSync_=function(a){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(a);try{var b=new goog.global.XMLHttpRequest;b.open("get",a,!1);b.send();return 0==b.status||200==b.status?b.responseText:null}catch(c){return null}};
goog.transpile_=function(a,b){var c=goog.global.$jscomp;c||(goog.global.$jscomp=c={});var d=c.transpile;if(!d){var e=goog.basePath+goog.TRANSPILER,f=goog.loadFileSync_(e);if(f){(function(){eval(f+"\n//# sourceURL="+e)}).call(goog.global);if(goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile;
c=goog.global.$jscomp;d=c.transpile}}d||(d=c.transpile=function(a,b){goog.logToConsole_(b+" requires transpilation but no transpiler was found.");return a});return d(a,b)};
goog.typeOf=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b};goog.isNull=function(a){return null===a};goog.isDefAndNotNull=function(a){return null!=a};goog.isArray=function(a){return"array"==goog.typeOf(a)};goog.isArrayLike=function(a){var b=goog.typeOf(a);return"array"==b||"object"==b&&"number"==typeof a.length};goog.isDateLike=function(a){return goog.isObject(a)&&"function"==typeof a.getFullYear};goog.isFunction=function(a){return"function"==goog.typeOf(a)};
goog.isObject=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b};goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(a){return!!a[goog.UID_PROPERTY_]};goog.removeUid=function(a){null!==a&&"removeAttribute"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(b){}};goog.UID_PROPERTY_="closure_uid_"+(1E9*Math.random()>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;
goog.removeHashCode=goog.removeUid;goog.cloneObject=function(a){var b=goog.typeOf(a);if("object"==b||"array"==b){if(a.clone)return a.clone();b="array"==b?[]:{};for(var c in a)b[c]=goog.cloneObject(a[c]);return b}return a};goog.bindNative_=function(a,b,c){return a.call.apply(a.bind,arguments)};
goog.bindJs_=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}};goog.bind=function(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_;return goog.bind.apply(null,arguments)};
goog.partial=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}};goog.mixin=function(a,b){for(var c in b)a[c]=b[c]};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};
goog.globalEval=function(a){if(goog.global.execScript)goog.global.execScript(a,"JavaScript");else if(goog.global.eval){if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(d){}if("undefined"!=typeof goog.global._evalTest_){try{delete goog.global._evalTest_}catch(d){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(a);else{var b=goog.global.document,c=b.createElement("SCRIPT");c.type="text/javascript";c.defer=
!1;c.appendChild(b.createTextNode(a));b.head.appendChild(c);b.head.removeChild(c)}}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;
goog.getCssName=function(a,b){if("."==String(a).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+a);var c=function(a){return goog.cssNameMapping_[a]||a},d=function(a){a=a.split("-");for(var b=[],d=0;d<a.length;d++)b.push(c(a[d]));return b.join("-")};d=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?c:d:function(a){return a};d=b?a+"-"+d(b):d(a);return goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(d):d};
goog.setCssNameMapping=function(a,b){goog.cssNameMapping_=a;goog.cssNameMappingStyle_=b};!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=function(a,b){b&&(a=a.replace(/\{\$([^}]+)}/g,function(a,d){return null!=b&&d in b?b[d]:a}));return a};goog.getMsgWithFallback=function(a,b){return a};goog.exportSymbol=function(a,b,c){goog.exportPath_(a,b,c)};goog.exportProperty=function(a,b,c){a[b]=c};
goog.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};
goog.base=function(a,b,c){var d=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!d)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(d.superClass_){for(var e=Array(arguments.length-1),f=1;f<arguments.length;f++)e[f-1]=arguments[f];return d.superClass_.constructor.apply(a,e)}e=Array(arguments.length-2);for(f=2;f<arguments.length;f++)e[f-2]=arguments[f];f=!1;for(var g=a.constructor;g;g=
g.superClass_&&g.superClass_.constructor)if(g.prototype[b]===d)f=!0;else if(f)return g.prototype[b].apply(a,e);if(a[b]===d)return a.constructor.prototype[b].apply(a,e);throw Error("goog.base called from a method of one name to a method of a different name");};goog.scope=function(a){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a goog.module.");a.call(goog.global)};COMPILED||(goog.global.COMPILED=COMPILED);
goog.defineClass=function(a,b){var c=b.constructor,d=b.statics;c&&c!=Object.prototype.constructor||(c=function(){throw Error("cannot instantiate an interface (no constructor defined).");});c=goog.defineClass.createSealingConstructor_(c,a);a&&goog.inherits(c,a);delete b.constructor;delete b.statics;goog.defineClass.applyProperties_(c.prototype,b);null!=d&&(d instanceof Function?d(c):goog.defineClass.applyProperties_(c,d));return c};goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG;
goog.defineClass.createSealingConstructor_=function(a,b){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return a;var c=!goog.defineClass.isUnsealable_(b),d=function(){var b=a.apply(this,arguments)||this;b[goog.UID_PROPERTY_]=b[goog.UID_PROPERTY_];this.constructor===d&&c&&Object.seal instanceof Function&&Object.seal(b);return b};return d};goog.defineClass.isUnsealable_=function(a){return a&&a.prototype&&a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
goog.defineClass.applyProperties_=function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);for(var d=0;d<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;d++)c=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[d],Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};goog.tagUnsealableClass=function(a){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable";
goog.DEPENDENCIES_ENABLED&&(goog.inHtmlDocument_=function(){var a=goog.global.document;return null!=a&&"write"in a},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH)&&goog.isString(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var a=goog.global.document,b=a.currentScript;a=b?[b]:a.getElementsByTagName("SCRIPT");for(b=a.length-1;0<=b;--b){var c=a[b].src,d=c.lastIndexOf("?");d=-1==d?c.length:d;if("base.js"==c.substr(d-
7,7)){goog.basePath=c.substr(0,d-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(a,b){d?c[a]=!0:b()?c[a]=!1:d=c[a]=!0}function b(a){try{return!!eval(a)}catch(g){return!1}}var c={es3:!1},d=!1,e=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";a("es5",function(){return b("[1,].length==1")});a("es6",function(){var a=e.match(/Edge\/(\d+)(\.\d)*/i);
return a&&15>Number(a[1])?!1:b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')});a("es6-impl",function(){return!0});a("es7",function(){return b("2 ** 2 == 4")});a("es8",function(){return b("async () => 1, true")});return c},goog.Transpiler.prototype.needsTranspile=
function(a){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;this.requiresTranspilation_||(this.requiresTranspilation_=this.createRequiresTranspilation_());if(a in this.requiresTranspilation_)return this.requiresTranspilation_[a];throw Error("Unknown language mode: "+a);},goog.Transpiler.prototype.transpile=function(a,b){return goog.transpile_(a,b)},goog.transpiler_=new goog.Transpiler,goog.DebugLoader=function(){this.dependencies_={loadFlags:{},nameToPath:{},requires:{},visited:{},
written:{},deferred:{}};this.oldIeWaiting_=!1;this.queuedModules_=[];this.lastNonModuleScriptIndex_=0},goog.DebugLoader.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader.prototype.earlyProcessLoad=function(a){goog.DebugLoader.IS_OLD_IE_&&this.maybeProcessDeferredDep_(a)},goog.DebugLoader.prototype.load=function(a){var b=this.getPathFromDeps_(a);if(b){var c=function(a){if(!(a in f.written||a in f.visited)){f.visited[a]=!0;if(a in f.requires)for(var b in f.requires[a])if(!g.isProvided(b))if(b in
f.nameToPath)c(f.nameToPath[b]);else throw Error("Undefined nameToPath for "+b);a in e||(e[a]=!0,d.push(a))}},d=[],e={},f=this.dependencies_,g=this;c(b);for(a=0;a<d.length;a++)b=d[a],this.dependencies_.written[b]=!0;for(a=0;a<d.length;a++)if(b=d[a]){var l=f.loadFlags[b]||{},h=l.lang||"es3";h=this.getTranspiler().needsTranspile(h);"goog"==l.module||h?this.importProcessedScript_(goog.basePath+b,"goog"==l.module,h):this.importScript_(goog.basePath+b)}else throw Error("Undefined script input");}else throw a=
"goog.require could not find: "+a,this.logToConsole(a),Error(a);},goog.DebugLoader.prototype.addDependency=function(a,b,c,d){var e;a=a.replace(/\\/g,"/");var f=this.dependencies_;d&&"boolean"!==typeof d||(d=d?{module:"goog"}:{});for(var g=0;e=b[g];g++)f.nameToPath[e]=a,f.loadFlags[a]=d;for(d=0;b=c[d];d++)a in f.requires||(f.requires[a]={}),f.requires[a][b]=!0},goog.DebugLoader.prototype.importScript_=function(a,b){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.bind(this.writeScriptTag_,this))(a,b)&&(this.dependencies_.written[a]=
!0)},goog.DebugLoader.prototype.importProcessedScript_=function(a,b,c){this.importScript_("",'goog.debugLoader_.retrieveAndExec_("'+a+'", '+b+", "+c+");")},goog.DebugLoader.prototype.retrieveAndExec_=function(a,b,c){if(!COMPILED){var d=a;a=this.normalizePath(a);var e=goog.global.CLOSURE_IMPORT_SCRIPT||goog.bind(this.writeScriptTag_,this),f=this.loadFileSync(a);if(null==f)throw Error('Load of "'+a+'" failed');c&&(f=this.getTranspiler().transpile(f,a));f=b?this.wrapModule_(a,f):f+("\n//# sourceURL="+
a);goog.DebugLoader.IS_OLD_IE_&&this.oldIeWaiting_?(this.dependencies_.deferred[d]=f,this.queuedModules_.push(d)):e(a,f)}},goog.DebugLoader.prototype.wrapModule_=function(a,b){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(b+"\n//# sourceURL="+a+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+b+"\n;return exports});\n//# sourceURL="+a+"\n"},goog.DebugLoader.prototype.loadQueuedModules_=function(){var a=this.queuedModules_.length;
if(0<a){var b=this.queuedModules_;this.queuedModules_=[];for(var c=0;c<a;c++)this.maybeProcessDeferredPath_(b[c])}this.oldIeWaiting_=!1},goog.DebugLoader.prototype.maybeProcessDeferredDep_=function(a){this.isDeferredModule_(a)&&this.allDepsAreAvailable_(a)&&(a=this.getPathFromDeps_(a),this.maybeProcessDeferredPath_(goog.basePath+a))},goog.DebugLoader.prototype.isDeferredModule_=function(a){var b=(a=this.getPathFromDeps_(a))&&this.dependencies_.loadFlags[a]||{},c=b.lang||"es3";return a&&("goog"==b.module||
this.getTranspiler().needsTranspile(c))?goog.basePath+a in this.dependencies_.deferred:!1},goog.DebugLoader.prototype.allDepsAreAvailable_=function(a){if((a=this.getPathFromDeps_(a))&&a in this.dependencies_.requires)for(var b in this.dependencies_.requires[a])if(!this.isProvided(b)&&!this.isDeferredModule_(b))return!1;return!0},goog.DebugLoader.prototype.maybeProcessDeferredPath_=function(a){if(a in this.dependencies_.deferred){var b=this.dependencies_.deferred[a];delete this.dependencies_.deferred[a];
goog.globalEval(b)}},goog.DebugLoader.prototype.writeScriptSrcNode_=function(a){goog.global.document.write('<script type="text/javascript" src="'+a+'">\x3c/script>')},goog.DebugLoader.prototype.appendScriptSrcNode_=function(a){var b=goog.global.document,c=b.createElement("script");c.type="text/javascript";c.src=a;c.defer=!1;c.async=!1;b.head.appendChild(c)},goog.DebugLoader.prototype.writeScriptTag_=function(a,b){if(this.inHtmlDocument()){var c=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&
"complete"==c.readyState){if(/\bdeps.js$/.test(a))return!1;throw Error('Cannot write "'+a+'" after document load');}if(void 0===b)if(goog.DebugLoader.IS_OLD_IE_){this.oldIeWaiting_=!0;var d=" onreadystatechange='goog.debugLoader_.onScriptLoad_(this, "+ ++this.lastNonModuleScriptIndex_+")' ";c.write('<script type="text/javascript" src="'+a+'"'+d+">\x3c/script>")}else goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?this.appendScriptSrcNode_(a):this.writeScriptSrcNode_(a);else c.write('<script type="text/javascript">'+
this.protectScriptTag_(b)+"\x3c/script>");return!0}return!1},goog.DebugLoader.prototype.protectScriptTag_=function(a){return a.replace(/<\/(SCRIPT)/ig,"\\x3c/$1")},goog.DebugLoader.prototype.onScriptLoad_=function(a,b){"complete"==a.readyState&&this.lastNonModuleScriptIndex_==b&&this.loadQueuedModules_();return!0},goog.DebugLoader.prototype.getPathFromDeps_=function(a){return a in this.dependencies_.nameToPath?this.dependencies_.nameToPath[a]:null},goog.DebugLoader.prototype.getTranspiler=function(){return goog.transpiler_},
goog.DebugLoader.prototype.isProvided=function(a){return goog.isProvided_(a)},goog.DebugLoader.prototype.inHtmlDocument=function(){return goog.inHtmlDocument_()},goog.DebugLoader.prototype.logToConsole=function(a){goog.logToConsole_(a)},goog.DebugLoader.prototype.loadFileSync=function(a){return goog.loadFileSync_(a)},goog.DebugLoader.prototype.normalizePath=function(a){return goog.normalizePath_(a)},goog.debugLoader_=null,goog.registerDebugLoader=function(a){if(goog.debugLoader_)throw Error("Debug loader already registered!");
if(!(a instanceof goog.DebugLoader))throw Error("Not a goog.DebugLoader.");goog.debugLoader_=a},goog.getLoader_=function(){if(!goog.debugLoader_&&goog.DEBUG_LOADER)throw Error("Loaded debug loader file but no loader was registered!");goog.debugLoader_||(goog.debugLoader_=new goog.DebugLoader);return goog.debugLoader_},function(){if(goog.DEBUG_LOADER){var a=new goog.DebugLoader;a.importScript_(goog.basePath+goog.DEBUG_LOADER)}goog.global.CLOSURE_NO_DEPS||(a=a||new goog.DebugLoader,goog.DEBUG_LOADER||
goog.registerDebugLoader(a),a.importScript_(goog.basePath+"deps.js"))}());var cursorX=0,cursorY=0,cursorGotoX=0,cursorGotoY=0,termSetCursor=0,textContainer=[""],term_been_scrolled=!1,fontSize="14px",termPxWide="560px",termPxHigh="380px",lineHeight=Math.floor(1.1*parseInt(fontSize.replace("px",""))),term_width=Math.floor(parseInt(fontSize.replace("px","")))/1.65,term_height=Math.floor(parseInt(termPxHigh.replace("px","")));term_width=Math.floor((parseInt(termPxWide.replace("px",""))-25)/term_width);
var ascii2unicode="\u00c7\u00fc\u00e9\u00e2\u00e4\u00e0\u00e5\u00e7\u00ea\u00eb\u00e8\u00ef\u00ee\u00ec\u00c4\u00c5\u00c9\u00e6\u00c6\u00f4\u00f6\u00f2\u00fb\u00f9\u00ff\u00d6\u00dc\u00a2\u00a3\u00a5\u20a7\u0192\u00e1\u00ed\u00f3\u00fa\u00f1\u00d1\u00aa\u00ba\u00bf\u2310\u00ac\u00bd\u00bc\u00a1\u00ab\u00bb\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255d\u255c\u255b\u2510\u2514\u2534\u252c\u251c\u2500\u253c\u255e\u255f\u255a\u2554\u2569\u2566\u2560\u2550\u256c\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256b\u256a\u2518\u250c\u2588\u2584\u258c\u2590\u2580\u03b1\u00df\u0393\u03c0\u03a3\u03c3\u00b5\u03c4\u03a6\u0398\u03a9\u03b4\u221e\u03c6\u03b5\u2229\u2261\u00b1\u2265\u2264\u2320\u2321\u00f7\u2248\u00b0\u2219\u00b7\u221a\u207f\u00b2\u25a0\u00a0".split(""),echo_trap=
[],trap_echos=!0,terminal_buffer="",updateTermInterval=null,bufferAlert=!1,scrollerTimeout=null;
$(document).ready(function(){fontSize=$("#serial_console").css("font-size");termPxWide=$("#serial_console").css("width");termPxHigh=$("#serial_console").css("height");lineHeight=Math.floor(1.1*parseInt(fontSize.replace("px","")));term_width=256;$("#serial_console").css({"overflow-x":"scroll"});term_height=Math.floor(parseInt(termPxHigh.replace("px","")));$("#serial_console").keydown(function(a){a=a.keyCode||a.which;8!==a&&13!==a||processKey(a);return 47<a&&58>a||32===a||64<a&&91>a||95<a&&112>a||185<
a&&193>a||218<a&&223>a});$("#serial_console").keypress(function(a){processKey(a.charCode)});$("#serial_console").click(function(){var a=document.getElementById("serial_console").innerHTML;"\u258d"!==a[a.length-1]&&(document.getElementById("serial_console").innerHTML=a+"\u258d")});$("#serial_console").blur(function(){var a=document.getElementById("serial_console").innerHTML;"\u258d"===a[a.length-1]&&(document.getElementById("serial_console").innerHTML=a.slice(0,-1),"\u258d"===a&&(document.getElementById("serial_console").innerHTML=
""))})});
function processKey(a){null!==active_connection&&"simulated"!==active_connection&&"websocket"!==active_connection?client_version>=minEnc64Ver?active_connection.send(btoa(String.fromCharCode(a))):(active_connection.send(String.fromCharCode(a)),trap_echos&&echo_trap.push(a)):"simulated"===active_connection?updateTermBox(String.fromCharCode(a)):"websocket"===active_connection&&(a={type:"serial-terminal",outTo:"terminal",portPath:getComPort(),baudrate:baudrate.toString(10),msg:String.fromCharCode(a),action:"msg"},
client_ws_connection.send(JSON.stringify(a)))}function displayInTerm(a){var b=terminal_buffer.length;terminal_buffer+=a;0===b?sendBufferToTerm():255<b&&!1===bufferAlert&&termBufferWarning()}
function termBufferWarning(){bufferAlert=!0;var a=document.getElementById("serial-conn-info"),b=a.innerHTML;a.innerHTML='<span class="alert-danger">Your program is sending too much data to the terminal at once.<br>Try adding pauses or sending less data.</span>';setTimeout(function(){a.innerHTML=b;bufferAlert=!1},5E3)}function sendBufferToTerm(){do updateTermBox(terminal_buffer.charCodeAt(0)),terminal_buffer=terminal_buffer.substr(1);while(0<terminal_buffer.length);displayTerm()}
function updateTermBox(a){for(zz=0;zz<echo_trap.length;zz++)if(echo_trap[zz]===a){echo_trap.splice(zz,1);return}cursorGotoY=cursorY;4!==termSetCursor&&(cursorGotoX=cursorX);a=parseInt(a);switch(termSetCursor){case 3:cursorGotoX=parseInt(a);termSetCursor=4;break;case 2:case 4:cursorGotoY=parseInt(a);termSetCursor=0;setCursor(cursorGotoX,cursorGotoY);break;case 1:cursorGotoX=parseInt(a);termSetCursor=0;setCursor(cursorGotoX,cursorGotoY);break;case 0:switch(a){case 127:case 8:if(-1<cursorX+cursorY){if(1<
textContainer[cursorY].length)if(cursorX===textContainer[cursorY].length)textContainer[cursorY]=textContainer[cursorY].slice(0,-1);else{if(0<cursorX){var b=textContainer[cursorY];textContainer[cursorY]=b.substr(0,cursorX-1)+" "+b.substr(cursorX)}}else 1===textContainer[cursorY].length&&(textContainer[cursorY]=textContainer[cursorY]="");changeCursor(-1,0);break}case 13:case 10:term_been_scrolled=!0;changeCursor(0,1);break;case 9:b=5-cursorX%5;for(k=0;k<b;k++)textContainer[cursorY]+=" ",changeCursor(1,
0);break;case 0:case 16:textContainer=null,textContainer=[""];case 1:cursorY=cursorX=0;changeCursor(0,0);break;case 3:changeCursor(-1,0);break;case 4:changeCursor(1,0);break;case 5:changeCursor(0,-1);break;case 6:changeCursor(0,1);break;case 7:document.getElementById("serial_console").classList.remove("visual-beep");document.getElementById("serial_console");document.getElementById("serial_console").classList.add("visual-beep");document.getElementById("term-beep").play();break;case 11:textContainer[cursorY]=
textContainer[cursorY].substr(0,cursorX);break;case 12:for(b=cursorY+1;b<textContainer.length;b++)textContainer[b].pop();break;case 2:termSetCursor=3;break;case 14:case 15:termSetCursor=a-13;break;default:var c=127<a&&256>a?ascii2unicode[a-128]:String.fromCharCode(a);(textContainer[cursorY]||"").length>cursorX?(b=textContainer[cursorY]||"",textContainer[cursorY]=b.substr(0,cursorX)+c+b.substr(cursorX+1)):textContainer[cursorY]+=c;changeCursor(1,0)}}0===a&&displayTerm()}
function changeCursor(a,b){1===b&&textContainer[cursorY].length>=cursorX&&(textContainer[cursorY]=textContainer[cursorY].substr(0,cursorX));cursorX+=a;cursorY+=b;cursorX>term_width-1&&(cursorX-=term_width,cursorY++,textContainer[cursorY]||(textContainer[cursorY]=""));0>cursorX&&(cursorY--,cursorX=textContainer[cursorY].length,cursorX>term_width-1&&(cursorX=term_width-1,textContainer[cursorY]=textContainer[cursorY].substr(0,cursorX)));0>cursorY&&(cursorX=cursorY=0);1===b&&(cursorX=0,textContainer[cursorY]||
(textContainer[cursorY]=""))}
function displayTerm(){updateTermInterval=null;cursorY<textContainer.length-1&&""===textContainer[textContainer.length-1]&&textContainer.pop();var a=Math.floor(term_height/lineHeight),b="";document.getElementById("serial_console")===document.activeElement&&(b="\u258d");var c=textContainer.join("\r")+b;""===textContainer.join("")&&(c=b);cursorY>=a&&term_been_scrolled&&($("#serial_console").css("overflow-y","hidden"),$("#serial_console").scrollTop((cursorY-a+1)*lineHeight),$("#serial_console").css("overflow-y",
"scroll"),term_been_scrolled=!1);document.getElementById("serial_console").innerHTML=c.replace(/ /g,"&nbsp;").replace(/\r/g,"<br>")}function setCursor(a,b){a>term_width-1&&(a%=term_width);if(!textContainer[b])for(t=textContainer.length;t<=b;t++)textContainer[t]="";for(;!textContainer[b][a];)textContainer[b]+=" ";cursorX=a;cursorY=b;changeCursor(0,0)};var osName="unknown-client",inDemo=$("meta[name=in-demo]").attr("content");function nav(a,b,c){c=c||b;navigator[a]&&-1!==navigator[a].indexOf(b)&&(osName=c)}nav("appVersion","X11","UNIX");nav("appVersion","Mac","MacOS");nav("appVersion","Linux");nav("userAgent","Linux");nav("platform","Linux");nav("appVersion","Win","Windows");nav("userAgent","Windows");nav("platform","Win","Windows");nav("oscpu","Windows");nav("appVersion","CrOS","ChromeOS");$(document).ready(function(){$("body").addClass(osName)});var client_available=!1,ports_available=!1,client_url="http://localhost:6009/",client_version=0,client_domain_name="localhost",client_domain_port=6009,client_min_version="0.6.0",client_recommended_version="0.7.0",client_use_type="none",client_ws_connection=null,client_ws_heartbeat,client_ws_heartbeat_interval=null,check_com_ports_interval=null,check_ws_socket_timeout=null,check_ws_client_timeout=null;$(document).ready(function(){find_client()});
var find_client=function(){check_ws_socket_timeout&&(clearTimeout(check_ws_socket_timeout),check_ws_client_timeout=null);establish_socket();"ws"!==client_use_type&&check_client()},version_as_number=function(a){a=a.toString().split(".");a.push("0");3>a.length&&($("#client-unknown-span").removeClass("hidden"),$(".client-required-version").html(client_recommended_version),$(".client-your-version").html("<b>UNKNOWN</b>"),$("#client-version-modal").modal("show"),1===a.length?a="0.0.0":a.unshift("0"));
return Number(a[0])<<20|Number(a[1])<<10|Number(a[2])},set_ui_buttons=function(a){"available"===a?($("#client-available").removeClass("hidden"),$("#client-searching").addClass("hidden"),$("#client-unavailable").addClass("hidden"),$("#prop-btn-ram").removeClass("disabled"),$("#prop-btn-eeprom").removeClass("disabled"),$("#prop-btn-term").removeClass("disabled"),$("#prop-btn-graph").removeClass("disabled")):($("#prop-btn-ram").addClass("disabled"),$("#prop-btn-eeprom").addClass("disabled"),$("#prop-btn-term").addClass("disabled"),
$("#prop-btn-graph").addClass("disabled"),"searching"===a?($("#client-available").addClass("hidden"),$("#client-searching").removeClass("hidden"),$("#client-unavailable").addClass("hidden")):($("#client-available").addClass("hidden"),$("#client-searching").addClass("hidden"),$("#client-unavailable").removeClass("hidden")))},check_client=function(){"ws"!==client_use_type&&$.get(client_url,function(a){client_available||(client_version=version_as_number(a.version),a.server&&"BlocklyPropHTTP"===a.server?
client_version<version_as_number(client_min_version)?($(".bpc-version").addClass("hidden"),$("#client-danger-span").removeClass("hidden"),$(".client-required-version").html(client_min_version),$(".client-your-version").html(a.version),$("#client-version-modal").modal("show")):client_version<version_as_number(client_recommended_version)&&($(".bpc-version").addClass("hidden"),$("#client-warning-span").removeClass("hidden"),$(".client-required-version").html(client_recommended_version),$(".client-your-version").html(a.version),
$("#client-version-modal").modal("show")):($(".bpc-version").addClass("hidden"),$("#client-unknown-span").removeClass("hidden"),$(".client-required-version").html(client_min_version),$(".client-your-version").html(a.version||"<b>UNKNOWN</b>"),$("#client-version-modal").modal("show")),client_use_type="http",client_available=!0,set_ui_buttons("available"),check_com_ports&&"function"===typeof check_com_ports&&(check_com_ports(),check_com_ports_interval=setInterval(check_com_ports,5E3)));setTimeout(check_client,
2E4)}).fail(function(){clearInterval(check_com_ports_interval);client_use_type="none";ports_available=client_available=!1;set_ui_buttons("unavailable");check_ws_socket_timeout=setTimeout(find_client,3E3)})},connection_heartbeat=function(){if("ws"===client_use_type){var a=(new Date).getTime();client_ws_heartbeat+12E3<a&&(client_ws_connection.close(),lostWSConnection())}},configure_client=function(){var a=$("<form/>",{"class":"form-inline"});$("<span/>",{"class":"space_right"}).text("http://").appendTo(a);
var b=$("<div/>",{"class":"form-group"}).appendTo(a);$("<input/>",{id:"domain_name",type:"text","class":"form-control",value:client_domain_name}).appendTo(b);$("<span/>",{"class":"space_left space_right"}).text(":").appendTo(a);b=$("<div/>",{"class":"form-group"}).appendTo(a);$("<input/>",{id:"port_number",type:"number","class":"form-control",value:client_domain_port}).appendTo(b);bootbox.dialog({title:"Configure BlocklyPropClient",message:a,buttons:{cancel:{label:"Cancel",className:"btn-default"},
save:{label:"Save",className:"btn-success",callback:function(){client_domain_name=$("#domain_name").val();client_domain_port=$("#port_number").val();client_url="http://"+client_domain_name+":"+client_domain_port+"/"}}}})};
function establish_socket(){if(!client_available){set_port_list();var a=client_url.replace("http","ws"),b=new WebSocket(a);b.onopen=function(){null!==client_ws_connection&&client_ws_connection.close();var a={type:"hello-browser",baud:baudrate};client_ws_connection=b;b.send(JSON.stringify(a))};b.onerror=function(a){console.log("WebSocket Error");console.log(a)};b.onmessage=function(a){a=JSON.parse(a.data);if("hello-client"===a.type)client_version=version_as_number(a.version),console.log("Websocket client/launcher found - version "+
a.version),client_use_type="ws",client_available=!0,set_ui_buttons("available"),a=JSON.stringify({type:"port-list-request",msg:"port-list-request"}),b.send(a);else if("port-list"===a.type)client_ws_heartbeat=(new Date).getTime(),client_ws_heartbeat_interval||(client_ws_heartbeat_interval=setInterval(connection_heartbeat,4E3)),set_port_list(a.ports);else if("serial-terminal"===a.type&&("string"===typeof a.msg||a.msg instanceof String)){var c=atob(a.msg);void 0!==a.msg&&(null!==term?(displayInTerm(c),
$("#serial_console").focus()):null!==graph&&graph_new_data(c))}else"ui-command"===a.type?"open-terminal"===a.action?serial_console():"open-graph"===a.action?graphing_console():"close-terminal"===a.action?($("#console-dialog").modal("hide"),newTerminal=!1,updateTermBox(0)):"close-graph"===a.action?($("#graphing-dialog").modal("hide"),graph_reset()):"clear-compile"===a.action?$("#compile-console").val(""):"message-compile"===a.action?($("#compile-console").val($("#compile-console").val()+a.msg),a=document.getElementById("compile-console"),
a.scrollTop=a.scrollHeight):"close-compile"===a.action?($("#compile-dialog").modal("hide"),$("#compile-console").val("")):"console-log"===a.action?console.log(a.msg):"websocket-close"===a.action?client_ws_connection.close():"alert"===a.action&&alert(a.msg):console.log("Unknown WS msg: "+JSON.stringify(a))};b.onClose=function(){lostWSConnection()}}}
function lostWSConnection(){client_ws_connection=null;client_use_type="none";ports_available=client_available=!1;set_ui_buttons("unavailable");term=null;newTerminal=!1;set_port_list();client_ws_heartbeat_interval&&(clearInterval(client_ws_heartbeat_interval),client_ws_heartbeat_interval=null);check_ws_socket_timeout=setTimeout(find_client,3E3)};var BlocklyProp={},term=null,graph=null,codePropC=null,codeXml=null,baudrate=115200,graph_temp_data=[],graph_data_ready=!1,graph_connection_string="",graph_timestamp_start=null,graph_timestamp_restart=0,graph_paused=!1,graph_temp_string=new String,graph_time_multiplier=0,graph_interval_id=null,fullCycleTime=53.6870912,graph_labels=null,graph_csv_data=[],console_header_arrived=!1,console_header=null,active_connection=null,connString="",connStrYet=!1,graph_options={showPoint:!1,fullWidth:!0,axisX:{type:Chartist.AutoScaleAxis,
onlyInteger:!0},refreshRate:250,sampleTotal:40},graph_data={series:[[],[],[],[],[],[],[],[],[],[]]},minEnc64Ver=version_as_number("0.7.0"),minVer=version_as_number(client_min_version);
function tabClick(a){var b=["blocks","propc","xml"];for(c in b)document.getElementById("content_"+b[c]).style.display="none";b=a.replace("tab_","");var c=document.getElementsByClassName("blocklyToolboxDiv");var d=document.getElementsByClassName("btn-view-code");document.getElementById("btn-view-blocks").style.display="none";document.getElementById("menu-save-as-propc")&&(document.getElementById("menu-save-as-propc").style.display="none");for(var e=0;e<d.length;e++)d[e].style.display="none";if("propcfile"!==
projectData.board)if(!0===Blockly.codeOnlyKeybind&&(Blockly.bindEvent_(document,"keydown",null,Blockly.onKeyDown_),Blockly.codeOnlyKeybind=!1),"tab_blocks"===a){for(e=0;e<d.length;e++)d[e].style.display="inline";for(a=0;a<c.length;a++)c[a].style.display="block"}else{for(a=0;a<c.length;a++)c[a].style.display="none";document.getElementById("btn-view-blocks").style.display="inline";document.getElementById("menu-save-as-propc")&&(document.getElementById("menu-save-as-propc").style.display="block")}else Blockly.unbindEvent_(document,
"keydown",null,Blockly.onKeyDown_),Blockly.codeOnlyKeybind=!0,"true"===$("meta[name=cdn]").attr("user-auth")&&(document.getElementById("prop-btn-graph").style.display="none",document.getElementById("upload-project").style.display="none"),document.getElementById("prop-btn-pretty").style.display="inline-block",document.getElementById("prop-btn-find-replace").style.display="inline-block",document.getElementById("prop-btn-undo").style.display="inline-block",document.getElementById("prop-btn-redo").style.display=
"inline-block",document.getElementById("download-project").style.display="none";document.getElementById("content_"+b).style.display="block";"propcfile"===projectData.board&&"xml"===b&&getURLParameter("debug")?(document.getElementById("btn-view-propc").style.display="inline",document.getElementById("btn-view-xml").style.display="none"):"propcfile"===projectData.board&&"propc"===b&&getURLParameter("debug")&&(document.getElementById("btn-view-xml").style.display="inline",document.getElementById("btn-view-propc").style.display=
"none");renderContent(b)}
function renderContent(a){"blocks"===a?Blockly.mainWorkspace.render():"xml"===a?(a="propcfile"===projectData.board?Blockly.Xml.textToDom(propcAsBlocksXml()):Blockly.Xml.workspaceToDom(Blockly.mainWorkspace),a=Blockly.Xml.domToPrettyText(a),codeXml.setValue(a),codeXml.gotoLine(0)):"propc"===a&&"propcfile"!==projectData.board?prettyCode(Blockly.propc.workspaceToCode(Blockly.mainWorkspace)):"propc"===a&&(""===codePropC.getValue()&&codePropC.setValue(Blockly.propc.workspaceToCode(Blockly.mainWorkspace)),codePropC.gotoLine(0))}
var prettyCode=function(a){a||(a=codePropC.getValue());a=js_beautify(a,{brace_style:"expand",indent_size:2});a=a.replace(/,\n[\s\xA0]+/g,", ").replace(/, & /g,", &").replace(/, \* /g,", *").replace(/\( & /g,"(&").replace(/\( \* /g,"(*").replace(/char \* /g,"char *").replace(/serial \* /g,"serial *").replace(/colorPal \* /g,"colorPal *").replace(/ws2812 \* /g,"ws2812 *").replace(/\)\s*[\n\r]\s*{/g,") {").replace(/\[([0-9]*)\]\s*=\s*{\s*([0-9xXbBA-F,\s]*)\s*};/g,"[$1] = {$2};");codePropC.setValue(a);
codePropC.gotoLine(0)},findReplaceCode=function(){"none"===document.getElementById("find-replace").style.display?document.getElementById("find-replace").style.display="block":document.getElementById("find-replace").style.display="none"};
function init(a){codePropC=ace.edit("code-propc");codePropC.setTheme("ace/theme/chrome");codePropC.getSession().setMode("ace/mode/c_cpp");codePropC.getSession().setTabSize(2);codePropC.setReadOnly(!0);codeXml=ace.edit("code-xml");codeXml.setTheme("ace/theme/chrome");codeXml.getSession().setMode("ace/mode/xml");codeXml.setReadOnly(!0);window.Blockly=a;null!==projectData&&(43>projectData.code.length&&(projectData.code='<xml xmlns="http://www.w3.org/1999/xhtml"></xml>'),loadToolbox(projectData.code));
"propcfile"===projectData.board&&(codePropC.setReadOnly(!1),codePropC.commands.addCommand({name:"undo",bindKey:{win:"Ctrl-z",mac:"Command-z"},exec:function(a){a.undo()},readOnly:!0}),codePropC.commands.addCommand({name:"redo",bindKey:{win:"Ctrl-y",mac:"Command-y"},exec:function(a){a.redo()},readOnly:!0}),codePropC.commands.addCommand({name:"find_replace",bindKey:{win:"Ctrl-f",mac:"Command-f"},exec:function(){findReplaceCode()},readOnly:!0}),tabClick("tab_propc"))}
function setBaudrate(a){baudrate=a}
function cloudCompile(a,b,c){var d="";d=codePropC.getReadOnly()?Blockly.propc.workspaceToCode(Blockly.mainWorkspace):codePropC.getValue();if(-1<d.indexOf("EMPTY_PROJECT"))alert("You can't compile an empty project");else{$("#compile-dialog-title").text(a);$("#compile-console").val("Compile... ");$("#compile-dialog").modal("show");d=js_beautify(d,{brace_style:"expand",indent_size:2});var e=!1;-1<d.indexOf("SERIAL_TERMINAL USED")?e="term":-1<d.indexOf("SERIAL_GRAPHING USED")&&(e="graph");$.ajax({method:"POST",
url:baseUrl+"rest/compile/c/"+b+"?id="+idProject,data:{code:d}}).done(function(a){if(a.error)console.log(a),"string"===typeof a.message?alert("BlocklyProp was unable to compile your project:\n"+a.message+'\nIt may help to "Force Refresh" by pressing Control-Shift-R (Windows/Linux) or Shift-Command-R (Mac)'):alert("BlocklyProp was unable to compile your project:\n"+a.message.toString()+'\nIt may help to "Force Refresh" by pressing Control-Shift-R (Windows/Linux) or Shift-Command-R (Mac)');else{var d=
"";"compile"!==b&&(d="\nLoading program on the Propeller - Please Wait...\n");a.success?($("#compile-console").val($("#compile-console").val()+a["compiler-output"]+a["compiler-error"]+d),c(a,e)):$("#compile-console").val($("#compile-console").val()+a["compiler-output"]+a["compiler-error"]+d);document.getElementById("compile-console").scrollTop=document.getElementById("compile-console").scrollHeight}}).fail(function(a){console.log(a);"string"===typeof a?alert("BlocklyProp was unable to compile your project:\n----------\n"+
a+'\nIt may help to "Force Refresh" by pressing Control-Shift-R (Windows/Linux) or Shift-Command-R (Mac)'):alert("BlocklyProp was unable to compile your project:\n----------\n"+a.toString()+'\nIt may help to "Force Refresh" by pressing Control-Shift-R (Windows/Linux) or Shift-Command-R (Mac)')})}}function compile(){cloudCompile("Compile","compile",function(a,b){})}
function loadInto(a,b,c){ports_available?cloudCompile(a,b,function(a,b){if("ws"===client_use_type){var d="none";if("term"===b||"graph"===b)d=b;d={type:"load-prop",action:c,payload:a.binary,debug:d,extension:a.extension,portPath:getComPort()};client_ws_connection.send(JSON.stringify(d))}else $.post(client_url+"load.action",{action:c,binary:a.binary,extension:a.extension,comport:getComPort()},function(a){$("#compile-console").val($("#compile-console").val()+a.message);document.getElementById("compile-console").scrollTop=
document.getElementById("compile-console").scrollHeight;console.log(a);"term"===b&&a.success?serial_console():"graph"===b&&a.success&&graphing_console()})}):client_available?alert("No device detected - ensure it is connected, powered, and selected in the ports list.\n\nMake sure your BlocklyPropClient is up-to-date."):alert('BlocklyPropClient not available to communicate with a microcontroller.\n\nIt may help to "Force Refresh" by pressing Control-Shift-R (Windows/Linux) or Shift-Command-R (Mac).')}
function serial_console(){var a=!1;if("ws"!==client_use_type)if(null===term&&(term={portPath:getComPort()},a=!0),ports_available){var b=client_url+"serial.connect";b=b.replace("http","ws");var c=new WebSocket(b);c.onopen=function(){connString="";connStrYet=!1;c.send("+++ open port "+getComPort()+(baudrate?" "+baudrate:""));active_connection=c};c.onerror=function(a){console.log("WebSocket Error");console.log(a)};c.onmessage=function(a){var b=client_version>=minEnc64Ver?atob(a.data):a.data;connStrYet?
displayInTerm(b):(connString+=b,-1<connString.indexOf(baudrate.toString(10))?(connStrYet=!0,document.getElementById("serial-conn-info")&&(document.getElementById("serial-conn-info").innerHTML=connString.trim())):displayInTerm(a.data));$("#serial_console").focus()};a||updateTermBox(0);c.onClose=function(){active_connection=null;connString="";connStrYet=!1};$("#console-dialog").on("hidden.bs.modal",function(){c.close();document.getElementById("serial-conn-info")&&(document.getElementById("serial-conn-info").innerHTML=
"");updateTermBox(0);term_been_scrolled=!1;active_connection=term=null})}else active_connection="simulated",a&&(displayInTerm("Simulated terminal because you are in demo mode\n"),displayInTerm("Connection established with: "+getComPort()+"\n")),$("#console-dialog").on("hidden.bs.modal",function(){term_been_scrolled=!1;active_connection=null;updateTermBox(0);term=null});else if("ws"===client_use_type){term={portPath:getComPort()};a=!0;var d={type:"serial-terminal",outTo:"terminal",portPath:getComPort(),
baudrate:baudrate.toString(10),msg:"none",action:"msg"};!0===a?(d.action="open",active_connection="websocket",document.getElementById("serial-conn-info")&&(document.getElementById("serial-conn-info").innerHTML="Connection established with "+d.portPath+" at baudrate "+d.baudrate),client_ws_connection.send(JSON.stringify(d))):updateTermBox(0);$("#console-dialog").on("hidden.bs.modal",function(){"close"!==d.action&&(d.action="close",document.getElementById("serial-conn-info")&&(document.getElementById("serial-conn-info").innerHTML=
""),active_connection=null,client_ws_connection.send(JSON.stringify(d)));a=term_been_scrolled=!1;updateTermBox(0)})}$("#console-dialog").modal("show")}
function graphing_console(){var a=!1,b=Blockly.propc.workspaceToCode(Blockly.mainWorkspace),c=b.indexOf("// GRAPH_SETTINGS_START:"),d=b.indexOf("// GRAPH_LABELS_START:");if(-1<c&&-1<d){var e=b.indexOf(":GRAPH_SETTINGS_END //")+22;c=b.substring(c,e).split(":")[1].split(",");e=b.indexOf(":GRAPH_LABELS_END //")+20;graph_labels=b.substring(d,e).split(":")[1].split(",");graph_options.refreshRate=Number(c[0]);graph_options.axisY="0"===c[3]&&"0"===c[4]?{type:Chartist.AutoScaleAxis}:{type:Chartist.AutoScaleAxis,
low:Number(c[3]),high:Number(c[4])};"S"===c[2]&&(graph_options.sampleTotal=Number(c[1]));null===graph?(graph_reset(),graph_temp_string="",graph=new Chartist.Line("#serial_graphing",graph_data,graph_options),a=!0):graph.update(graph_data,graph_options);if("ws"!==client_use_type&&ports_available){b=client_url+"serial.connect";b=b.replace("http","ws");var f=new WebSocket(b);f.onopen=function(){baudrate?f.send("+++ open port "+getComPort()+" "+baudrate):f.send("+++ open port "+getComPort())};f.onerror=
function(a){console.log("WebSocket Error");console.log(a)};f.onmessage=function(a){graph_new_data(a.data)};if(a||null!==graph)graph_new_labels(),graph_interval_id=setInterval(function(){graph.update(graph_data);graph_update_labels()},graph_options.refreshRate);f.onClose=function(){graph_reset()};$("#graphing-dialog").on("hidden.bs.modal",function(){f.close();graph_reset()})}else if("ws"===client_use_type&&ports_available){var g={type:"serial-terminal",outTo:"graph",portPath:getComPort(),baudrate:baudrate.toString(10),
msg:"none",action:"msg"};if(a||null!==graph)graph_new_labels(),graph_interval_id=setInterval(function(){graph.update(graph_data);graph_update_labels()},graph_options.refreshRate),g.action="open",client_ws_connection.send(JSON.stringify(g));$("#graphing-dialog").on("hidden.bs.modal",function(){"close"!==g.action&&(g.action="close",client_ws_connection.send(JSON.stringify(g)));graph_reset()})}$("#graphing-dialog").modal("show");document.getElementById("btn-graph-play")&&(document.getElementById("btn-graph-play").innerHTML=
'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="15"><path d="M5.5,2 L4,2 4,11 5.5,11 Z M8.5,2 L10,2 10,11 8.5,11 Z" style="stroke:#fff;stroke-width:1;fill:#fff;"/></svg>')}else alert("To use the graphing feature, your program must have both a graph initialize block and a graph value block.")}var check_com_ports=function(){"ws"!==client_use_type&&void 0!==client_url&&(client_version>=minVer?$.get(client_url+"ports.json",function(a){set_port_list(a)}).fail(function(){set_port_list()}):set_port_list())};
set_port_list=function(a){a=a?a:a="searching";var b=$("#comPort").val();$("#comPort").empty();"object"===typeof a?(a.forEach(function(a){$("#comPort").append($("<option>",{text:a}))}),ports_available=!0):($("#comPort").append($("<option>",{text:"searching"===a?"Searching...":"No devices found"})),ports_available=!1);select_com_port(b)};var select_com_port=function(a){null!==a&&$("#comPort").val(a);null===$("#comPort").val()&&0<$("#comPort option").size()&&$("#comPort").val($("#comPort option:first").text())};
$(document).ready(function(){check_com_ports()});var getComPort=function(){return $("#comPort").find(":selected").text()};
function downloadPropC(){var a=Blockly.propc.workspaceToCode(Blockly.mainWorkspace);-1<a.indexOf("EMPTY_PROJECT")?alert("You can't download an empty project"):utils.confirm("Downloading a SimpleIDE project","To open your project in SimpleIDE, two files will be downloaded.  They must both be saved in the same folder on your computer.",function(b){b&&utils.prompt("Enter a filename:","Project"+idProject,function(b){if(b){var c=function(){var a=document.createElement("a");document.body.appendChild(a);
a.style="display: none";return function(b,c){var d=new Blob([b],{type:"octet/stream"});d=window.URL.createObjectURL(d);a.href=d;a.download=c;a.click();window.URL.revokeObjectURL(d)}}();-1!==b.indexOf(".")&&(b=b.substring(0,b.indexOf(".")));30<=b.length&&(b=b.substring(0,29));b=b.replace(/[\\/:*?"<>|]/g,"_");c(a,b+".c");c(b+".c\n>compiler=C\n>memtype=cmm main ram compact\n>optimize=-Os\n>-m32bit-doubles\n>-fno-exceptions\n>defs::-std=c99\n>-lm\n>BOARD::ACTIVITYBOARD",b+".side")}})})}
function graph_new_data(a){if(-1<a.indexOf("ailed"))$("#serial_graphing").html(a);else for(k=0;k<a.length;k++)if("\n"===a[k]&&(a[k]="\r"),"\r"===a[k]&&graph_data_ready){graph_temp_data.push(graph_temp_string.split(","));var b=graph_temp_data.length-1,c=Number(graph_temp_data[b][0])||0;c/=1220.703125;graph_timestamp_start||(graph_timestamp_start=c);0<b&&parseFloat(graph_temp_data[b][0])<parseFloat(graph_temp_data[b-1][1])&&(graph_time_multiplier+=fullCycleTime);if(graph_paused)graph_timestamp_restart=
c+graph_time_multiplier-graph_timestamp_start;else{graph_temp_data[b].unshift(c+graph_time_multiplier-graph_timestamp_start+graph_timestamp_restart);c=Math.round(1E4*graph_temp_data[b][0])/1E4+",";for(var d=2;d<graph_temp_data[b].length;d++)c+=graph_temp_data[b][d]+",",graph_data.series[d-2].push({x:graph_temp_data[b][0],y:graph_temp_data[b][d]||null}),graph_temp_data[b][0]>graph_options.sampleTotal&&graph_data.series[d-2].shift();graph_csv_data.push(c.slice(0,-1).split(","));15E3<graph_csv_data.length&&
graph_csv_data.shift()}graph_temp_string=""}else graph_data_ready?graph_temp_string+=a[k]:"\r"===a[k]&&(graph_data_ready=!0)}function graph_reset(){clearInterval(graph_interval_id);graph&&graph.detach();$("#serial_graphing").html("");graph_temp_data=graph_interval_id=null;graph_temp_data=[];graph_csv_data=null;graph_csv_data=[];graph_data=null;graph_data={series:[[],[],[],[],[],[],[],[],[],[]]};graph_temp_string="";graph_timestamp_start=null;graph_data_ready=!1}
function graph_redraw(){graph.update(graph_data)}
function graph_play(){document.getElementById("btn-graph-play")&&(-1<document.getElementById("btn-graph-play").innerHTML.indexOf("pause")?(document.getElementById("btn-graph-play").innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="14" height="15"><path d="M4,3 L4,11 10,7 Z" style="stroke:#fff;stroke-width:1;fill:#fff;"/></svg>',clearInterval(graph_interval_id)):(document.getElementById("btn-graph-play").innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="14" height="15"><path d="M5.5,2 L4,2 4,11 5.5,11 Z M8.5,2 L10,2 10,11 8.5,11 Z" style="stroke:#fff;stroke-width:1;fill:#fff;"/></svg>',graph_interval_id=
setInterval(function(){graph.update(graph_data)},graph_options.refreshRate)))}
function downloadGraph(){utils.prompt("Download Graph Output - Filename:","Graph"+idProject,function(a){if(a){var b=function(){var a=document.createElement("a");document.body.appendChild(a);a.style="display: none";return function(b,c){var d=new Blob([b],{type:"octet/stream"});d=window.URL.createObjectURL(d);a.href=d;a.download=c;a.click();window.URL.revokeObjectURL(d)}}(),c=document.getElementById("serial_graphing"),d=RegExp('xmlns="http://www.w3.org/2000/xmlns/"',"g");c=(new XMLSerializer).serializeToString(c);
c=c.replace(d,"");c=c.replace(/foreignObject/g,"text");c=c.replace(/([<|</])a[0-9]+:/g,"$1");c=c.replace(/xmlns: /g,"");c=c.replace(/span/g,"tspan");c=c.replace(/x="10" /g,'x="40" ');c=c.substring(c.indexOf("<svg"),c.length-6);d=c.indexOf('class="ct-label ct-horizontal ct-end"');d=parseFloat(c.substring(c.indexOf(' y="',d+20)+4,c.indexOf('"',c.indexOf(' y="',d+20)+4)));c=c.replace(new RegExp('y="'+d+'"',"g"),'y="'+(d+12)+'"');d=c.indexOf(">")+1;c=c.substring(0,d)+'<style>.ct-double-octave:after,.ct-major-eleventh:after,.ct-major-second:after,.ct-major-seventh:after,.ct-major-sixth:after,.ct-major-tenth:after,.ct-major-third:after,.ct-major-twelfth:after,.ct-minor-second:after,.ct-minor-seventh:after,.ct-minor-sixth:after,.ct-minor-third:after,.ct-octave:after,.ct-perfect-fifth:after,.ct-perfect-fourth:after,.ct-square:after{content:"";clear:both}.ct-label{fill:rgba(0,0,0,.4);color:rgba(0,0,0,.4);font-size:.75rem;line-height:1}.ct-grid-background,.ct-line{fill:none}.ct-chart-bar .ct-label,.ct-chart-line .ct-label{display:block;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}.ct-chart-donut .ct-label,.ct-chart-pie .ct-label{dominant-baseline:central}.ct-label.ct-horizontal.ct-start{-webkit-box-align:flex-end;-webkit-align-items:flex-end;-ms-flex-align:flex-end;align-items:flex-end;-webkit-box-pack:flex-start;-webkit-justify-content:flex-start;-ms-flex-pack:flex-start;justify-content:flex-start;text-align:left;text-anchor:start}.ct-label.ct-horizontal.ct-end{-webkit-box-align:flex-start;-webkit-align-items:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:flex-start;-webkit-justify-content:flex-start;-ms-flex-pack:flex-start;justify-content:flex-start;text-align:left;text-anchor:start}.ct-label.ct-vertical.ct-start{-webkit-box-align:flex-end;-webkit-align-items:flex-end;-ms-flex-align:flex-end;align-items:flex-end;-webkit-box-pack:flex-end;-webkit-justify-content:flex-end;-ms-flex-pack:flex-end;justify-content:flex-end;text-align:right;text-anchor:end}.ct-label.ct-vertical.ct-end{-webkit-box-align:flex-end;-webkit-align-items:flex-end;-ms-flex-align:flex-end;align-items:flex-end;-webkit-box-pack:flex-start;-webkit-justify-content:flex-start;-ms-flex-pack:flex-start;justify-content:flex-start;text-align:left;text-anchor:start}.ct-chart-bar .ct-label.ct-horizontal.ct-start{-webkit-box-align:flex-end;-webkit-align-items:flex-end;-ms-flex-align:flex-end;align-items:flex-end;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;text-anchor:start}.ct-chart-bar .ct-label.ct-horizontal.ct-end{-webkit-box-align:flex-start;-webkit-align-items:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;text-anchor:start}.ct-chart-bar.ct-horizontal-bars .ct-label.ct-horizontal.ct-start{-webkit-box-align:flex-end;-webkit-align-items:flex-end;-ms-flex-align:flex-end;align-items:flex-end;-webkit-box-pack:flex-start;-webkit-justify-content:flex-start;-ms-flex-pack:flex-start;justify-content:flex-start;text-align:left;text-anchor:start}.ct-chart-bar.ct-horizontal-bars .ct-label.ct-horizontal.ct-end{-webkit-box-align:flex-start;-webkit-align-items:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:flex-start;-webkit-justify-content:flex-start;-ms-flex-pack:flex-start;justify-content:flex-start;text-align:left;text-anchor:start}.ct-chart-bar.ct-horizontal-bars .ct-label.ct-vertical.ct-start{-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:flex-end;-webkit-justify-content:flex-end;-ms-flex-pack:flex-end;justify-content:flex-end;text-align:right;text-anchor:end}.ct-chart-bar.ct-horizontal-bars .ct-label.ct-vertical.ct-end{-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:flex-start;-webkit-justify-content:flex-start;-ms-flex-pack:flex-start;justify-content:flex-start;text-align:left;text-anchor:end}.ct-grid{stroke:rgba(0,0,0,.2);stroke-width:1px;stroke-dasharray:2px}.ct-point{stroke-width:10px;stroke-linecap:round}.ct-line{stroke-width:4px}.ct-area{stroke:none;fill-opacity:.1}.ct-bar{fill:none;stroke-width:10px}.ct-slice-donut{fill:none;stroke-width:60px}.ct-series-a .ct-bar,.ct-series-a .ct-line,.ct-series-a .ct-point,.ct-series-a .ct-slice-donut{stroke:#d70206}.ct-series-a .ct-area,.ct-series-a .ct-slice-donut-solid,.ct-series-a .ct-slice-pie{fill:#d70206}.ct-series-b .ct-bar,.ct-series-b .ct-line,.ct-series-b .ct-point,.ct-series-b .ct-slice-donut{stroke:#f05b4f}.ct-series-b .ct-area,.ct-series-b .ct-slice-donut-solid,.ct-series-b .ct-slice-pie{fill:#f05b4f}.ct-series-c .ct-bar,.ct-series-c .ct-line,.ct-series-c .ct-point,.ct-series-c .ct-slice-donut{stroke:#f4c63d}.ct-series-c .ct-area,.ct-series-c .ct-slice-donut-solid,.ct-series-c .ct-slice-pie{fill:#f4c63d}.ct-series-d .ct-bar,.ct-series-d .ct-line,.ct-series-d .ct-point,.ct-series-d .ct-slice-donut{stroke:#d17905}.ct-series-d .ct-area,.ct-series-d .ct-slice-donut-solid,.ct-series-d .ct-slice-pie{fill:#d17905}.ct-series-e .ct-bar,.ct-series-e .ct-line,.ct-series-e .ct-point,.ct-series-e .ct-slice-donut{stroke:#453d3f}.ct-series-e .ct-area,.ct-series-e .ct-slice-donut-solid,.ct-series-e .ct-slice-pie{fill:#453d3f}.ct-series-f .ct-bar,.ct-series-f .ct-line,.ct-series-f .ct-point,.ct-series-f .ct-slice-donut{stroke:#59922b}.ct-series-f .ct-area,.ct-series-f .ct-slice-donut-solid,.ct-series-f .ct-slice-pie{fill:#59922b}.ct-series-g .ct-bar,.ct-series-g .ct-line,.ct-series-g .ct-point,.ct-series-g .ct-slice-donut{stroke:#0544d3}.ct-series-g .ct-area,.ct-series-g .ct-slice-donut-solid,.ct-series-g .ct-slice-pie{fill:#0544d3}.ct-series-h .ct-bar,.ct-series-h .ct-line,.ct-series-h .ct-point,.ct-series-h .ct-slice-donut{stroke:#6b0392}.ct-series-h .ct-area,.ct-series-h .ct-slice-donut-solid,.ct-series-h .ct-slice-pie{fill:#6b0392}.ct-series-i .ct-bar,.ct-series-i .ct-line,.ct-series-i .ct-point,.ct-series-i .ct-slice-donut{stroke:#f05b4f}.ct-series-i .ct-area,.ct-series-i .ct-slice-donut-solid,.ct-series-i .ct-slice-pie{fill:#f05b4f}.ct-series-j .ct-bar,.ct-series-j .ct-line,.ct-series-j .ct-point,.ct-series-j .ct-slice-donut{stroke:#dda458}.ct-series-j .ct-area,.ct-series-j .ct-slice-donut-solid,.ct-series-j .ct-slice-pie{fill:#dda458}.ct-series-k .ct-bar,.ct-series-k .ct-line,.ct-series-k .ct-point,.ct-series-k .ct-slice-donut{stroke:#eacf7d}.ct-series-k .ct-area,.ct-series-k .ct-slice-donut-solid,.ct-series-k .ct-slice-pie{fill:#eacf7d}.ct-series-l .ct-bar,.ct-series-l .ct-line,.ct-series-l .ct-point,.ct-series-l .ct-slice-donut{stroke:#86797d}.ct-series-l .ct-area,.ct-series-l .ct-slice-donut-solid,.ct-series-l .ct-slice-pie{fill:#86797d}.ct-series-m .ct-bar,.ct-series-m .ct-line,.ct-series-m .ct-point,.ct-series-m .ct-slice-donut{stroke:#b2c326}.ct-series-m .ct-area,.ct-series-m .ct-slice-donut-solid,.ct-series-m .ct-slice-pie{fill:#b2c326}.ct-series-n .ct-bar,.ct-series-n .ct-line,.ct-series-n .ct-point,.ct-series-n .ct-slice-donut{stroke:#6188e2}.ct-series-n .ct-area,.ct-series-n .ct-slice-donut-solid,.ct-series-n .ct-slice-pie{fill:#6188e2}.ct-series-o .ct-bar,.ct-series-o .ct-line,.ct-series-o .ct-point,.ct-series-o .ct-slice-donut{stroke:#a748ca}.ct-series-o .ct-area,.ct-series-o .ct-slice-donut-solid,.ct-series-o .ct-slice-pie{fill:#a748ca}.ct-square{display:block;position:relative;width:100%}.ct-square:before{display:block;float:left;content:"";width:0;height:0;padding-bottom:100%}.ct-square:after{display:table}.ct-square>svg{display:block;position:absolute;top:0;left:0}.ct-minor-second{display:block;position:relative;width:100%}.ct-minor-second:before{display:block;float:left;content:"";width:0;height:0;padding-bottom:93.75%}.ct-minor-second:after{display:table}.ct-minor-second>svg{display:block;position:absolute;top:0;left:0}.ct-major-second{display:block;position:relative;width:100%}.ct-major-second:before{display:block;float:left;content:"";width:0;height:0;padding-bottom:88.8888888889%}.ct-major-second:after{display:table}.ct-major-second>svg{display:block;position:absolute;top:0;left:0}.ct-minor-third{display:block;position:relative;width:100%}.ct-minor-third:before{display:block;float:left;content:"";width:0;height:0;padding-bottom:83.3333333333%}.ct-minor-third:after{display:table}.ct-minor-third>svg{display:block;position:absolute;top:0;left:0}.ct-major-third{display:block;position:relative;width:100%}.ct-major-third:before{display:block;float:left;content:"";width:0;height:0;padding-bottom:80%}.ct-major-third:after{display:table}.ct-major-third>svg{display:block;position:absolute;top:0;left:0}.ct-perfect-fourth{display:block;position:relative;width:100%}.ct-perfect-fourth:before{display:block;float:left;content:"";width:0;height:0;padding-bottom:75%}.ct-perfect-fourth:after{display:table}.ct-perfect-fourth>svg{display:block;position:absolute;top:0;left:0}.ct-perfect-fifth{display:block;position:relative;width:100%}.ct-perfect-fifth:before{display:block;float:left;content:"";width:0;height:0;padding-bottom:66.6666666667%}.ct-perfect-fifth:after{display:table}.ct-perfect-fifth>svg{display:block;position:absolute;top:0;left:0}.ct-minor-sixth{display:block;position:relative;width:100%}.ct-minor-sixth:before{display:block;float:left;content:"";width:0;height:0;padding-bottom:62.5%}.ct-minor-sixth:after{display:table}.ct-minor-sixth>svg{display:block;position:absolute;top:0;left:0}.ct-golden-section{display:block;position:relative;width:100%}.ct-golden-section:before{display:block;float:left;content:"";width:0;height:0;padding-bottom:61.804697157%}.ct-golden-section:after{content:"";display:table;clear:both}.ct-golden-section>svg{display:block;position:absolute;top:0;left:0}.ct-major-sixth{display:block;position:relative;width:100%}.ct-major-sixth:before{display:block;float:left;content:"";width:0;height:0;padding-bottom:60%}.ct-major-sixth:after{display:table}.ct-major-sixth>svg{display:block;position:absolute;top:0;left:0}.ct-minor-seventh{display:block;position:relative;width:100%}.ct-minor-seventh:before{display:block;float:left;content:"";width:0;height:0;padding-bottom:56.25%}.ct-minor-seventh:after{display:table}.ct-minor-seventh>svg{display:block;position:absolute;top:0;left:0}.ct-major-seventh{display:block;position:relative;width:100%}.ct-major-seventh:before{display:block;float:left;content:"";width:0;height:0;padding-bottom:53.3333333333%}.ct-major-seventh:after{display:table}.ct-major-seventh>svg{display:block;position:absolute;top:0;left:0}.ct-octave{display:block;position:relative;width:100%}.ct-octave:before{display:block;float:left;content:"";width:0;height:0;padding-bottom:50%}.ct-octave:after{display:table}.ct-octave>svg{display:block;position:absolute;top:0;left:0}.ct-major-tenth{display:block;position:relative;width:100%}.ct-major-tenth:before{display:block;float:left;content:"";width:0;height:0;padding-bottom:40%}.ct-major-tenth:after{display:table}.ct-major-tenth>svg{display:block;position:absolute;top:0;left:0}.ct-major-eleventh{display:block;position:relative;width:100%}.ct-major-eleventh:before{display:block;float:left;content:"";width:0;height:0;padding-bottom:37.5%}.ct-major-eleventh:after{display:table}.ct-major-eleventh>svg{display:block;position:absolute;top:0;left:0}.ct-major-twelfth{display:block;position:relative;width:100%}.ct-major-twelfth:before{display:block;float:left;content:"";width:0;height:0;padding-bottom:33.3333333333%}.ct-major-twelfth:after{display:table}.ct-major-twelfth>svg{display:block;position:absolute;top:0;left:0}.ct-double-octave{display:block;position:relative;width:100%}.ct-double-octave:before{display:block;float:left;content:"";width:0;height:0;padding-bottom:25%}.ct-double-octave:after{display:table}.ct-double-octave>svg{display:block;position:absolute;top:0;left:0}.ct-series-a .ct-line {stroke-width: 1px;stroke: #00f;}.ct-series-b .ct-line {stroke-width: 1px;stroke: #0bb;}.ct-series-c .ct-line {stroke-width: 1px;stroke: #0d0;}.ct-series-d .ct-line {stroke-width: 1px;stroke: #dd0;}.ct-series-e .ct-line {stroke-width: 1px;stroke: #f90;}.ct-series-f .ct-line {stroke-width: 1px;stroke: #f00;}.ct-series-g .ct-line {stroke-width: 1px;stroke: #c0c;}.ct-series-h .ct-line {stroke-width: 1px;stroke: #000;}.ct-series-i .ct-line {stroke-width: 1px;stroke: #777;}.ct-series-j .ct-line {stroke-width: 1px;}text{font-family:sans-serif;}</style>'+
c.substring(d,c.length);b(c,a+".svg")}})}
function downloadCSV(){utils.prompt("Download Graph data as CSV - Filename:","graph_data"+idProject,function(a){if(a){var b=function(){var a=document.createElement("a");document.body.appendChild(a);a.style="display: none";return function(b,c){var d=new Blob([b],{type:"octet/stream"});d=window.URL.createObjectURL(d);a.href=d;a.download=c;a.click();window.URL.revokeObjectURL(d)}}(),c=graph_csv_data.join("\n"),d=c.indexOf("\n")+1,e=c.indexOf("\n",d+1);b(c.substring(0,d)+c.substring(e+1,c.length-1),a+
".csv")}})}
function graph_new_labels(){var a='<svg width="60" height="300">';var b='"time",';for(var c=0;c<graph_labels.length;c++)a+='<g id="labelgroup'+(c+1)+'" transform="translate(0,'+(30*c+25)+')">',a+='<rect x="0" y = "0" width="60" height="26" rx="3" ry="3" id="label'+(c+1)+'" ',a+='style="stroke:1px;stroke-color:blue;" class="ct-marker-'+(c+1)+'"/><rect x="3" y = "12"',a+='width="54" height="11" rx="3" ry="3" id="value'+(c+1)+'bkg" style="fill:rgba',a+='(255,255,255,.7);stroke:none;"/><text id="label'+(c+
1)+'text" x="3" ',a+='y="9" style="font-family:Arial;font-size: 9px;fill:#fff;font-weight:bold;">'+graph_labels[c],a+='</text><text id="gValue'+(c+1)+'" x="5" y="21" style="align:right;',a+='font-family:Arial;font-size: 10px;fill:#000;"></text></g>',b+='"'+graph_labels[c].replace(/"/g,"_")+'",';a+="</svg>";graph_csv_data.push(b.slice(0,-1));$("#serial_graphing_labels").html(a)}
function graph_update_labels(){var a=graph_temp_data.length-1;if(graph_temp_data[a])for(var b=graph_temp_data[a].length,c=2;c<b;c++)document.getElementById("gValue"+(c-1).toString(10)).textContent=graph_temp_data[a][c]}function encodeXml(a){var b={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};return a.replace(/([&"<>])/g,function(a,d){return b[d]})}function decodeXml(a){return a.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var utils={showMessage:function(a,b,c){bootbox.dialog({title:a,message:b,buttons:{confirm:{label:"Ok",className:"btn-primary",callback:c}}})},prompt:function(a,b,c){bootbox.prompt({title:a,value:b,callback:c,buttons:{cancel:{label:"Cancel",className:"btn-default",callback:c},confirm:{label:"Confirm",className:"btn-primary",callback:c}}})},confirm:function(a,b,c,d,e){bootbox.dialog({title:a,message:b,buttons:{cancel:{label:e||"Cancel",className:"btn-default",callback:function(){c(!1)}},confirm:{label:d||
"Confirm",className:"btn-primary",callback:function(){c(!0)}}}})},getUrlParameters:function(a,b,c){var d=b?b:window.location.search;b=[];void 0!==d&&void 0!==d.split("?")[1]&&(b=d.split("?")[1].split("&"));d=!0;for(var e=0;e<b.length;e++){parr=b[e].split("=");if(parr[0]===a)return c?decodeURIComponent(parr[1]):parr[1];d=!1}if(!d)return!1}};$(document).ready(function(){$(".external_link").click(function(a){window.open($(this).attr("href"),"_blank");a.preventDefault()})});
String.prototype.endsWith||(String.prototype.endsWith=function(a,b){var c=this.toString();if("number"!==typeof b||!isFinite(b)||Math.floor(b)!==b||b>c.length)b=c.length;b-=a.length;c=c.indexOf(a,b);return-1!==c&&c===b});String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return this.substr(b||0,a.length)===a});var baseUrl=$("meta[name=base]").attr("content"),cdnUrl=$("meta[name=cdn]").attr("content"),user_authenticated="true"===$("meta[name=user-auth]").attr("content")?!0:!1,projectData=null,ready=!1,projectLoaded=!1,ignoreSaveCheck=!1,last_saved_timestamp=0,last_saved_time=0,idProject=0,uploadedXML="";function getURLParameter(a){return decodeURIComponent(((new RegExp("[?|&]"+a+"=([^&;]+?)(&|#|;|$)")).exec(window.location.search)||[null,""])[1].replace(/\+/g,"%20"))||null}
$(document).ready(function(){user_authenticated?($(".auth-true").css("display",$(this).attr("displayas")),$(".auth-false").css("display","none")):($(".auth-false").css("display",$(this).attr("displayas")),$(".auth-true").css("display","none"));$(".url-prefix").attr("href",function(a,b){return baseUrl+b});for(var a=document.getElementsByTagName("img"),b=0;b<a.length;b++)a[b].src=cdnUrl+a[b].getAttribute("data-src");$(".client-win32-link").attr("href",$("meta[name=win32client]").attr("content"));$(".client-win64-link").attr("href",
$("meta[name=win64client]").attr("content"));$(".client-mac-link").attr("href",$("meta[name=macOSclient]").attr("content"));(idProject=getURLParameter("project"))?$.get(baseUrl+"rest/shared/project/editor/"+idProject,function(a){console.log(a);projectData=a;showInfo(a);projectLoaded=!0;ready&&(setProfile(a.board),initToolbox(a.board,[]));"s3"===projectData.board?($("#prop-btn-ram").addClass("hidden"),$("#prop-btn-graph").addClass("hidden"),document.getElementById("client-available").innerHTML=document.getElementById("client-available-short").innerHTML):
($("#prop-btn-ram").removeClass("hidden"),$("#prop-btn-graph").removeClass("hidden"),document.getElementById("client-available").innerHTML=document.getElementById("client-available-long").innerHTML);timestampSaveTime(20,!0);setInterval(checkLastSavedTime,6E4)}).fail(function(){utils.showMessage("Unable to Access Project","The BlocklyProp Editor was unable to access the project you requested.  If you are sure the project exists, you may need to contact the project's owner and ask them to share their project before you will be able to view it.",
function(){window.location=baseUrl})}):window.location=baseUrl;$("#save-project").on("click",function(){saveProject()});$("#save-project-as").on("click",function(){saveAsDialog()});$("#download-project").on("click",function(){downloadCode()});$("#upload-project").on("click",function(){uploadCode()});$("#save-check-dialog").on("hidden.bs.modal",function(){timestampSaveTime(5,!1)})});
var timestampSaveTime=function(a,b){var c=new Date;c.getTime()+6E4*a>last_saved_timestamp&&(last_saved_timestamp=c.getTime()+6E4*a,b&&(last_saved_time=c.getTime()))},checkLastSavedTime=function(){var a=new Date,b=a.getTime();a=Math.round((a.getTime()-last_saved_time)/6E4);$("#save-check-warning-time").html(a.toString(10));b>last_saved_timestamp&&checkLeave()&&user_authenticated&&$("#save-check-dialog").modal("show")},showInfo=function(a){$(".project-name").text(a.name);a.yours||$(".project-owner").text("("+
a.user+")");$("#project-icon").html('<img src="'+cdnUrl+{"activity-board":"images/board-icons/IconActivityBoard.png",s3:"images/board-icons/IconS3.png",heb:"images/board-icons/IconBadge.png",flip:"images/board-icons/IconFlip.png",other:"images/board-icons/IconOtherBoards.png",propcfile:"images/board-icons/IconC.png"}[a.board]+'"/>')};function generateBlockId(a){a=btoa(a).replace(/=/g,"");var b=a.length;return a=20>b?"zzzzzzzzzzzzzzzzzzzz".substr(b-20)+a:a.substr(b-20)}
var propcAsBlocksXml=function(){var a='<xml xmlns="http://www.w3.org/1999/xhtml">'+('<block type="propc_file" id="'+generateBlockId(codePropC.getValue())+'" x="100" y="100">');a=a+'<field name="FILENAME">single.c</field><field name="CODE">'+btoa(codePropC.getValue().replace("/* EMPTY_PROJECT */\n",""));return a+"</field></block></xml>"},saveProject=function(){var a="";"propcfile"===projectData.board?(a=propcAsBlocksXml(),Blockly.mainWorkspace.clear(),loadToolbox(a)):a=getXml();projectData.code=a;
$.post(baseUrl+"rest/project/code",projectData,function(b){var c=projectData.yours;projectData=b;projectData.code=a;c||(window.location.href=baseUrl+"projecteditor?id="+b.id)}).done(function(){var a=document.getElementById("save-project");a.style.paddingLeft="10px";a.style.background="rgb(92, 184, 92)";a.style.borderColor="rgb(76, 174, 76)";setTimeout(function(){a.innerHTML="Save &#x2713;"},600);setTimeout(function(){a.innerHTML="Save&nbsp;&nbsp;";a.style.paddingLeft="15px";a.style.background="#337ab7";
a.style.borderColor="#2e6da4"},1750)}).fail(function(){var a=document.getElementById("save-project");a.style.paddingLeft="10px";a.style.background="rgb(214, 44, 44)";a.style.borderColor="rgb(191, 38, 38)";setTimeout(function(){a.innerHTML="Save &times;"},600);setTimeout(function(){a.innerHTML="Save&nbsp;&nbsp;";a.style.paddingLeft="15px";a.style.background="#337ab7";a.style.borderColor="#2e6da4"},1750);utils.showMessage("Not logged in","BlocklyProp was unable to save your project.\n\nYou may still be able to download it as a Blockls file.\n\nYou will need to return to the homepage to log back in.")});
timestampSaveTime(20,!0)},saveAsDialog=function(){checkLeave()&&projectData.yours&&utils.confirm(Blockly.Msg.DIALOG_SAVE_TITLE,Blockly.Msg.DIALOG_SAVE_FIRST,function(a){a&&saveProject()},"Yes","No");$("#save-as-project-name").val(projectData.name);$("#save-as-board-type").empty();profile["default"].saves_to.forEach(function(a){$("#save-as-board-type").append($("<option />").val(a[1]).text(a[0]))});"demo"===inDemo&&$("#save-as-board-type").append($("<option />").val("propcfile").text("Propeller C (code-only)"));
$("#save-as-type-dialog").modal("show")},checkBoardType=function(){var a=projectData.board,b=$("#save-as-board-type").val();a===b||"propcfile"===b?document.getElementById("save-as-verify-boardtype").style.display="none":document.getElementById("save-as-verify-boardtype").style.display="block"},saveProjectAs=function(){var a=$("#save-as-board-type").val(),b=$("#save-as-project-name").val(),c="";"propcfile"===projectData.board?(c=propcAsBlocksXml(),Blockly.mainWorkspace.clear(),loadToolbox(c)):c=getXml();
projectData.board=a;projectData.code=c;projectData.name=b;$.post(baseUrl+"rest/project/board-as",projectData,function(a){projectData=a;projectData.code=c;window.location.href=baseUrl+"projecteditor?id="+a.id});timestampSaveTime(20,!0)},editProjectDetails=function(){window.location.href=baseUrl+"my-projects?id="+idProject},blocklyReady=function(){getURLParameter("debug")?document.getElementById("btn-view-xml").style.display="inline-block":document.getElementById("btn-view-xml").style.display="none";
projectLoaded?(setProfile(projectData.board),initToolbox(projectData.board,[])):ready=!0};window.onbeforeunload=function(){if(checkLeave())return Blockly.Msg.DIALOG_CHANGED_SINCE};var checkLeave=function(){var a=projectData.code;if(ignoreSaveCheck)return!1;var b="propcfile"===projectData.board?propcAsBlocksXml():getXml();return null===projectData?'<xml xmlns="http://www.w3.org/1999/xhtml"></xml>'===b?!1:!0:a===b?!1:!0};setInterval(function(){$.get(baseUrl+"ping")},6E4);
function hashCode(a){for(var b=0,c=0,d=a.length;c<d;)b=(b<<5)-b+a.charCodeAt(c++)<<0;return b+2147483647+1}
function downloadCode(){var a=getXml();a=a.substring(42,a.length);a=a.substring(0,a.length-6);utils.prompt(Blockly.Msg.DIALOG_DOWNLOAD,"Project"+idProject,function(b){if(b){var c=document.getElementsByClassName("blocklyBlockCanvas"),d=c[0].outerHTML.replace(/&nbsp;/g," ");c=c[0].getBoundingClientRect();var e=(parseInt(c.height)+parseInt(c.top)+100).toString(),f=(parseInt(c.width)+parseInt(c.left)+236).toString();c=function(){var a=document.createElement("a");document.body.appendChild(a);a.style="display: none";
return function(b,c){var d=new Blob([b],{type:"octet/stream"});d=window.URL.createObjectURL(d);a.href=d;a.download=c;a.click();window.URL.revokeObjectURL(d)}}();e='<svg blocklyprop="blocklypropproject" xmlns="http://www.w3.org/2000/svg" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="blocklySvg"><style>.blocklySvg { background-color: #fff; '+("overflow: auto; width:"+f+"px; height:"+e+"px;} .blocklyWidgetDiv {display: none; position: absolute; ")+
"z-index: 999;} .blocklyPathLight { fill: none; stroke-linecap: round; stroke-width: 2;} .blocklyDisabled>.blocklyPath { fill-opacity: .5; ";e+="stroke-opacity: .5;} .blocklyDisabled>.blocklyPathLight, .blocklyDisabled>";e+=".blocklyPathDark {display: none;} .blocklyText {cursor: default; fill: ";e+="#fff; font-family: sans-serif; font-size: 11pt;} .blocklyNonEditableText>text { ";e+="pointer-events: none;} .blocklyNonEditableText>rect, .blocklyEditableText>rect ";e+="{fill: #fff; fill-opacity: .6;} .blocklyNonEditableText>text, .blocklyEditableText>";
e+="text {fill: #000;} .blocklyBubbleText {fill: #000;} .blocklySvg text {user";e+="-select: none; -moz-user-select: none; -webkit-user-select: none; cursor: ";e+="inherit;} .blocklyHidden {display: none;} .blocklyFieldDropdown:not(.blocklyHidden) ";e+="{display: block;} .bkginfo {cursor: default; fill: rgba(0, 0, 0, 0.3); font-family: ";e+="sans-serif; font-size: 10pt;}</style>";f='<rect x="100%" y="100%" rx="7" ry="7" width="218" height="84" style="fill:rgba(255,255,255,0.4);" transform="translate(-232,-100)" /><text class="bkginfo" x="100%" y="100%" transform="translate(-225,-83)" style="font-weight:bold;">Parallax BlocklyProp Project</text>'+
('<text class="bkginfo" x="100%" y="100%" transform="translate(-225,-68)">User: '+projectData.user+"</text>");f+='<text class="bkginfo" x="100%" y="100%" transform="translate(-225,-53)">Title: '+projectData.name+"</text>";f+='<text class="bkginfo" x="100%" y="100%" transform="translate(-225,-38)">Project ID: '+idProject+"</text>";f+='<text class="bkginfo" x="100%" y="100%" transform="translate(-225,-23)">Device: '+projectData.board+"</text>";-1!==b.indexOf(".")&&(b=b.substring(0,b.indexOf(".")));
30<=b.length&&(b=b.substring(0,29));b=b.replace(/[\\/:*?"<>|]/g,"_");var g=hashCode(a).toString();g="000000000000".substring(g.length,12)+g;c(e+d+f+a+"<ckm>"+g+"</ckm></svg>",b+".svg")}})}function uploadCode(){checkLeave()?utils.showMessage(Blockly.Msg.DIALOG_UNSAVED_PROJECT,Blockly.Msg.DIALOG_SAVE_BEFORE_ADD_BLOCKS):$("#upload-dialog").modal("show")}
function uploadHandler(a){var b=new FileReader;b.onload=function(){var b=this.result,d=!1;if("image/svg+xml"===a[0].type&&0===b.indexOf('<svg blocklyprop="blocklypropproject"')&&-1===b.indexOf("<!ENTITY")&&-1===b.indexOf("CDATA")&&-1===b.indexOf("\x3c!--")){var e=b.substring(b.length-24,b.length-12);uploadedXML=b.substring(b.indexOf("<block"),b.length-29);var f=hashCode(uploadedXML).toString();f="000000000000".substring(f.length,12)+f;f===e&&(d=!0);d&&(e=b.indexOf('transform="translate(-225,-23)">Device: '),
e=b.substring(e+40,b.indexOf("</text>",e+41)),e!==projectData.board?document.getElementById("selectfile-verify-boardtype").style.display="block":document.getElementById("selectfile-verify-boardtype").style.display="none")}!0===d?(document.getElementById("selectfile-verify-valid").style.display="block",document.getElementById("selectfile-replace").disabled=!1,document.getElementById("selectfile-append").disabled=!1,uploadedXML=b):(document.getElementById("selectfile-verify-notvalid").style.display=
"block",document.getElementById("selectfile-replace").disabled=!0,document.getElementById("selectfile-append").disabled=!0,uploadedXML="")};b.readAsText(a[0]);""!==uploadedXML&&(uploadedXML='<xml xmlns="http://www.w3.org/1999/xhtml">'+uploadedXML+"</xml>")}
function clearUploadInfo(){uploadedXML="";$("#selectfile").val("");document.getElementById("selectfile-verify-notvalid").style.display="none";document.getElementById("selectfile-verify-valid").style.display="none";document.getElementById("selectfile-verify-boardtype").style.display="none"}
function uploadMergeCode(a){$("#upload-dialog").modal("hide");if(""!==uploadedXML){var b="";a&&(b=getXml(),b=b.substring(42,b.length),b=b.substring(0,b.length-6));a=uploadedXML;a=a.substring(42,a.length);a=a.substring(0,a.length-6);projectData.code='<xml xmlns="http://www.w3.org/1999/xhtml">'+b+a+"</xml>";Blockly.mainWorkspace.clear();loadToolbox(projectData.code);clearUploadInfo()}}
function filterToolbox(a,b){var c=b.slice();c.push(a);$("#toolbox").find("category").each(function(){var a=$(this),b=a.attr("include");b&&(b=b.split(","),findOne(c,b)||a.remove());if(b=a.attr("exclude"))b=b.split(","),findOne(c,b)&&a.remove();a.attr("experimental")&&"demo"!==inDemo&&a.remove();(b=a.attr("key"))&&a.attr("name",toolbox_label[b]);if(-1!==document.referrer.indexOf("?")&&-1<document.referrer.split("?")[1].indexOf("grayscale=1")){b={140:"#AAAAAA",165:"#222222",185:"#333333",205:"#444444",
225:"#555555",250:"#666666",275:"#777777",295:"#888888",320:"#999999",340:"#111111"};var f=a.attr("colour");f&&a.attr("colour",b[f])}});$("#toolbox").find("sep").each(function(){var a=$(this),b=a.attr("include");b&&(b=b.split(","),findOne(c,b)||a.remove());if(b=a.attr("exclude"))b=b.split(","),findOne(c,b)&&a.remove()});$("#toolbox").find("block").each(function(){var a=$(this);a.attr("experimental")&&"demo"!==inDemo&&a.remove()})}var findOne=function(a,b){return b.some(function(b){return 0<=a.indexOf(b)})};
function initToolbox(a,b){filterToolbox(a,b);isPropC="propcfile"===a?!0:!1;Blockly.inject("content_blocks",{toolbox:document.getElementById("toolbox"),trashcan:!0,media:cdnUrl+"blockly/media/",readOnly:isPropC,comments:!1,zoom:{controls:!0,wheel:!0,startScale:1,maxScale:3,minScale:.3,scaleSpeed:1.2}});init(Blockly)}function loadToolbox(a){a=Blockly.Xml.textToDom(a);Blockly.Xml.domToWorkspace(a,Blockly.mainWorkspace)}
function getXml(){var a=Blockly.Xml.workspaceToDom(Blockly.mainWorkspace);return Blockly.Xml.domToText(a)}function showOS(a){$("body").removeClass("Windows").removeClass("MacOS").removeClass("Linux").removeClass("ChromeOS");$("body").addClass(a)}
function showStep(a,b,c){for(var d=1;d<=c;d++)$("#"+a+d.toString()+"-btn").addClass("btn-default").removeClass("btn-primary"),$("#"+a+d.toString()).addClass("hidden");$("#"+a+b.toString()+"-btn").removeClass("btn-default").addClass("btn-primary");$("#"+a+b.toString()).removeClass("hidden")};